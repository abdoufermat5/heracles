# =============================================================================
# Heracles â€” .env Template (Jinja2)
# =============================================================================
# Rendered by Ansible during deployment.
# =============================================================================

# LDAP
LDAP_ORGANISATION={{ ldap_organisation }}
LDAP_DOMAIN={{ ldap_domain }}
LDAP_BASE_DN={{ ldap_base_dn }}
LDAP_ADMIN_PASSWORD={{ ldap_admin_password }}
LDAP_CONFIG_PASSWORD={{ ldap_config_password }}
LDAP_BIND_DN=cn=admin,{{ ldap_base_dn }}
LDAP_POOL_SIZE=10

# Admin User
HRC_ADMIN_USER={{ heracles_admin_user }}
HRC_ADMIN_PASSWORD={{ heracles_admin_password }}
HRC_ADMIN_UID=10000
HRC_ADMIN_GID=10000

# PostgreSQL
POSTGRES_DB={{ postgres_db }}
POSTGRES_USER={{ postgres_user }}
POSTGRES_PASSWORD={{ postgres_password }}

# Redis
REDIS_PASSWORD={{ redis_password }}

# Security
SECRET_KEY={{ secret_key }}
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# API
DEBUG=false
LOG_LEVEL=INFO
API_HOST=0.0.0.0
API_PORT=8000
GUNICORN_WORKERS={{ ansible_processor_vcpus * 2 + 1 }}
GUNICORN_TIMEOUT=120

# Docker Images
HERACLES_VERSION={{ heracles_version }}
API_IMAGE={{ heracles_api_image }}
UI_IMAGE={{ heracles_ui_image }}

{% if tls_enabled | default(false) %}
# TLS
TLS_CA_CERT=/etc/heracles/pki/ca.crt
TLS_SERVER_CERT=/etc/heracles/pki/server.crt
TLS_SERVER_KEY=/etc/heracles/pki/server.key
{% endif %}
