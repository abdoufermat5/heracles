# Heracles Load Test Configuration
# https://docs.locust.io/en/stable/configuration.html
#
# Override any setting via CLI flags or environment variables (LOCUST_*)
# Config precedence: pyproject.toml → locust.conf → env vars → CLI args

# Target
host = https://api.heracles.local

# Web UI (default mode — access at http://localhost:8089)
web-port = 8089
class-picker = true

# Logging
loglevel = INFO
logfile = locust.log

# Statistics
print-stats = true
csv = results
csv-full-history = true

# HTML report with dynamic filename: users_rate_runtime
html = report_{u}_{r}_{t}.html

# Defaults for headless / autostart mode (overridable)
users = 50
spawn-rate = 5
run-time = 2m

# Reset stats after ramp-up completes (clean measurements)
reset-stats = true

# Graceful shutdown — wait 5s for tasks to finish
stop-timeout = 5
